## TASK 3: EXPLORATORY DATA ANALYSIS - RETAIL
### Perform ‘Exploratory Data Analysis’ on dataset ‘SampleSuperstore’
### As a business manager, try to find out the weak areas where you can
### work to make more profit.
### What all business problems you can derive by exploring the data?

### By:
### Bhawana Tripathi 

IMPORTING LIBRARIES

import pandas as pd
import numpy as np
import matplotlib.pyplot as plot
import seaborn as sns

READING DATA

data=pd.read_csv(r"C:\Users\HP\Desktop\DATASETS\SampleSuperstore.csv")
print(data.shape)
data.head()

UNDERSTANDING AND CLEANING DATA:

data.drop(['Country','Postal Code'],axis=1,inplace=True)
#REMOVING UNWANTED FEATURES

data.info()

data.describe()

#IDENTIFYING REDUNDANT VALUES AND REMOVING THEM

print(data.duplicated().sum())
data.drop_duplicates(inplace=True)
data.head()

#NO. OF UNIQUE VALUES THE FEATURES HAVE

data.nunique()

# ANALYSING CORRELATION BETWEEN DIFFERENT FEATURES

sns.heatmap(data.corr(),annot=True)
plot.show()

###### Profit and Sales are highly positively correlated
###### Discount and Sales show negative correlation


# PERFORMING EDA 

data['Ship Mode'].unique()

v=dict(data['Ship Mode'].value_counts())
print(v)
plot.pie(v.values(),labels=v.keys(), autopct='%1.1f%%')
plot.legend()
plot.show()

###### Standard class is most widely used shipment mode
###### Same day shipping mode is not much preferred

s=data.groupby("Segment")[['Sales','Profit']].sum()
d=dict(s)
print(d)

s.plot.bar()
plot.ylabel('Sales/Profit')
plot.title('Segment Vs Sales/Profit')
plot.show()

###### Highest sales are generated by consumer segment
###### Although sales vary amongst different segments, profit doesn't show much variance
###### Consumer segment generates highest profit

c=data.groupby('State')['Profit'].sum()

print(c.head())
d=dict(c)

fig,axis=plot.subplots(figsize=(20,10))
plot.title("State Vs Profit")
c.plot.bar()
plot.ylabel('Profit')
plot.show()

###### California and New York are the most profitable states
###### Texas, Ohio and Pennsylvania are at huge losses


x=data.groupby('Category')['Profit'].sum()
fig,axis=plot.subplots(figsize=(10,5))
plot.title("Category VS Profit")
x.plot.bar(color=['brown','orange','green'])
plot.ylabel('Profit')
plot.show()


#### Technology gives more profit than any other category.
#### The profit from furniture is minimal i.e., it is more loss-providing


b=data.groupby('Sub-Category')['Profit'].sum()
dic=dict(data.groupby('Category')['Sub-Category'].unique())
len(b)


fig,axis=plot.subplots(figsize=(10,5))
plot.title("Sub Category VS Profit")
b.plot.bar(color=['brown','orange','orange','orange','green','green','brown','orange','orange','green','orange','brown','orange','brown','orange','orange','green'])
plot.ylabel('Profit')
plot.show()


###### Sub- Categories with higher Sales:
###### Copiers
###### Phones
###### Accessories
###### Paper

plot.subplots(figsize=(7,7))
plot.scatter(data['Sales'],data['Profit'])
plot.xlabel('Sales')
plot.ylabel('Profit')
plot.show()

###### Profit w.r.t Sales shows typical trend
###### On a major note, it is linearly increasing

d=data.groupby('Region')[['Profit','Sales']].sum()
d.plot.bar()
plot.ylabel('Profit and Sale')
plot.show()

###### West USA has the highest sales
###### Profit not being in proportion of Sales
###### South USA has least Sales

plot.figure(figsize=(10,10))
plot.scatter(data['Discount'],data['Profit'])
plot.xlabel('Discount')
plot.ylabel('Profit')
plot.show()

###### Higher proposed discounts are often leading to losses 



# CONCLUSIONS:
###### Standard shipment mode is usually preferred.
###### South USA gives the least profit as well as sales, therefore is a weaker area.
###### Technology has been the most profitable and selling segment.
###### Noticeable dip in profit values for sales between 0-5000.
###### Increasing discounts(when approx 50%) are often leading to dip in profit margin. 
###### Although all the three segments have considerably different sales, profit margins are not really varying. Therefore, company needs to change the strategy of sale.
###### West region proposes highest sale.









